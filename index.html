<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<meta name="color-scheme" content="light">
<title>モバイル注文</title>

<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;600&family=Noto+Serif+JP:wght@600;700&display=swap" rel="stylesheet">

<style>
  :root{
    --bg:#faf8f3; --paper:#ffffff; --ink:#1a1a1a; --muted:#6c6b69;
    --border:#e6ddcf; --brand:#c8a049; --accent:#b5452a;
    --shadow:0 8px 18px rgba(0,0,0,.04);
  }
  html,body{
    margin:0; background:var(--bg); color:var(--ink);
    font-family:'Noto Sans JP', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
                 "Hiragino Kaku Gothic ProN","Noto Sans JP", Meiryo, sans-serif;
    -webkit-text-size-adjust:100%;
  }
  a{color:inherit; text-decoration:none}
  img{max-width:100%; display:block}
  .app{max-width:920px; margin:0 auto 48px}

  /* ヘッダー */
  header{
    position:sticky; top:0; z-index:10; background:#fff;
    border-bottom:1px solid var(--border);
  }
  /* 上段バー＝黒背景＋金文字 */
  .bar{
    display:flex; align-items:center; gap:12px; padding:12px 18px;
    background:#111; color:var(--brand);
  }
  .brand{display:flex; align-items:center; gap:10px}
  .brand .mark{color:var(--brand); font-weight:900}
  .brand .name{
    color:var(--brand);
    font-family:'Noto Serif JP','Hiragino Mincho ProN','Yu Mincho',serif;
    letter-spacing:.03em; font-weight:700;
  }
  .pill{
    margin-left:auto; background:#fff; border:1px solid var(--border);
    padding:6px 12px; border-radius:999px; color:#6a6968; font-size:12px; font-weight:600;
  }
  /* 下段ナビ */
  nav{display:flex; gap:8px; overflow:auto; padding:10px 14px; border-top:1px solid var(--border); background:#fff}
  .chip{
    white-space:nowrap; background:#fff; border:1px solid var(--border);
    padding:8px 14px; border-radius:999px; color:#595858; font-size:13px; font-weight:500;
  }

  /* ヒーロー（黒ベース） */
  .hero{
    margin:14px; border-radius:16px; overflow:hidden;
    background:#111; border:1px solid #111; box-shadow:var(--shadow); color:#fff;
  }
  .heroInner{padding:36px 24px}
  .catch{
    font-family:'Noto Serif JP','Hiragino Mincho ProN','Yu Mincho',serif;
    letter-spacing:.03em; font-size:22px; font-weight:700; margin-top:6px; color:#fff;
  }
  .sub{color:#e6e0d4; margin-top:6px}

  /* メニュー（ダミー） */
  section{padding:22px 16px}
  h2{
    font-family:'Noto Serif JP','Hiragino Mincho ProN','Yu Mincho',serif;
    letter-spacing:.03em; font-size:19px; font-weight:700;
    margin:10px 2px 16px;
  }
  .grid{display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap:12px}
  @media (min-width:800px){ .grid{grid-template-columns:repeat(3,minmax(0,1fr));} }
  .card{
    background:var(--paper); border:1px solid var(--border);
    border-radius:12px; overflow:hidden; box-shadow:var(--shadow);
  }
  .thumb{
    aspect-ratio:4/3; background:linear-gradient(135deg,#f5efe4,#f0eadf);
    display:flex; align-items:center; justify-content:center; color:#9b948a; font-size:12px;
  }
  .body{padding:14px 16px}
  .name{font-weight:700}
  .desc{font-size:12px; color:var(--muted); margin-top:4px; min-height:30px}
  .priceRow{display:flex; align-items:center; margin-top:10px}
  .price{color:var(--brand); font-weight:800}
  .add{
    margin-left:auto; background:#fff; border:1px solid var(--border); color:#444;
    padding:8px 12px; border-radius:12px; font-weight:600; cursor:pointer;
  }
  .add[disabled]{opacity:.4; cursor:not-allowed}

  /* ドッキリ告知（スクロールで出現） */
  #surprise{margin-top:24px; padding:40px 16px 100px; position:relative; min-height:60vh}
  .reveal{
    position:relative; background:#fff; border:1px solid var(--border);
    border-radius:16px; overflow:hidden; box-shadow:var(--shadow);
  }
  .reveal .cover{
    position:absolute; inset:0;
    background:linear-gradient(180deg,rgba(255,255,255,.92),rgba(255,255,255,.98));
    display:flex; align-items:center; justify-content:center; flex-direction:column;
    gap:8px; text-align:center; padding:28px
  }
  /* アクティブ時はカバーを消す */
  .reveal.active .cover{display:none}
  .hint{color:var(--muted); font-size:13px}
  .content{opacity:0; transform:translateY(8px); transition:.6s ease; padding:24px}
  .reveal.active .content{opacity:1; transform:none}
  .big{
    font-family:'Noto Serif JP','Hiragino Mincho ProN','Yu Mincho',serif;
    letter-spacing:.03em; font-size:24px; font-weight:700; margin:.2em 0;
  }
  .msg{line-height:1.9}
  .footnote{color:var(--muted); font-size:12px; margin-top:12px; text-align:center}
  .center{display:flex; justify-content:center; margin-top:16px}
  .cta{
    border:1px solid var(--border); background:#fff; color:#b5452a;
    padding:12px 16px; border-radius:12px; font-weight:900; cursor:pointer;
  }

  /* 紙吹雪 */
  .confetti{pointer-events:none; position:absolute; inset:0; overflow:hidden}
  .confetti i{
    position:absolute; top:-10px; left:0; width:8px; height:14px; border-radius:2px;
    animation:fall linear forwards; opacity:.9
  }
  @keyframes fall{ to{transform:translateY(110vh) rotate(600deg)} }

  /* トースト */
  .toast{
    position:fixed; left:50%; bottom:18px; transform:translateX(-50%);
    background:#111; color:#fff; border:1px solid var(--border);
    padding:10px 14px; border-radius:12px; box-shadow:var(--shadow);
    opacity:0; pointer-events:none; transition:.25s ease; z-index:50;
  }
  .toast.show{opacity:1}

  /* モーダル共有スタイル */
  .modal{
    position:fixed; inset:0; display:none; place-items:center; z-index:60;
    background:rgba(0,0,0,.35); backdrop-filter: blur(3px);
  }
  .modal.show{display:grid}
  .modal .box{
    background:#fff; border:1px solid var(--border); border-radius:14px; box-shadow:var(--shadow);
    width:min(92vw,540px); padding:22px 18px; text-align:center;
  }
  .modal .title{
    font-family:'Noto Serif JP','Hiragino Mincho ProN','Yu Mincho',serif;
    letter-spacing:.03em; font-size:18px; font-weight:700; margin:0 0 8px;
  }
  .modal .note{color:var(--muted); margin:8px 0 16px}
  .modal .ok{
    background:var(--brand); color:#fff; border:0; border-radius:12px; padding:12px 16px; font-weight:800; cursor:pointer;
  }
</style>
</head>
<body>
<div class="app">
  <header>
    <div class="bar">
      <div class="brand">
        <div class="mark">◆</div>
        <div class="name">丸鶏るいすけ</div>
      </div>
      <div class="pill" id="cartPill">カート内 0 品</div>
    </div>
    <nav>
      <a class="chip" href="#tsumami">つまみ</a>
      <a class="chip" href="#yakimono">焼き物</a>
      <a class="chip" href="#agemono">揚げ物</a>
      <a class="chip" href="#gohan">ご飯もの</a>
      <a class="chip" id="navDrink" href="#drink">ドリンク</a>
      <a class="chip" href="#surprise">本日のおすすめ</a>
    </nav>
  </header>

  <!-- ヒーロー（黒ベース） -->
  <div class="hero">
    <div class="heroInner">
      <div class="catch">丸鶏と旬菜、旨い酒。</div>
      <div class="sub">新宿の喧騒を離れた落ち着いた雰囲気の中で、食事と会話をゆったりと楽しめるのが当店の魅力。</div>
    </div>
  </div>

  <!-- メニュー（ダミー） -->
  <section id="tsumami"><h2>つまみ</h2><div class="grid" id="g-tsumami"></div></section>
  <section id="yakimono"><h2>焼き物</h2><div class="grid" id="g-yakimono"></div></section>
  <section id="agemono"><h2>揚げ物</h2><div class="grid" id="g-agemono"></div></section>
  <section id="gohan"><h2>ご飯もの</h2><div class="grid" id="g-gohan"></div></section>
  <section id="drink"><h2>ドリンク</h2><div class="grid" id="g-drink"></div></section>

  <!-- スクロールで出る “本日のおすすめ” = ドッキリ告知 -->
  <section id="surprise">
    <div class="reveal" id="revealBox">
      <!-- カバー：バッジ削除／文言だけ -->
      <div class="cover hideOnReveal">
        <div class="hint" id="hintText">
          竹内くんが来年結婚するかも...ということですが<br>
          OKをクリック！！
        </div>
      </div>

      <!-- スクロール後に出す文言 -->
      <div class="content">
        <div class="confetti" id="confetti"></div>
        <h3 class="big">工藤周耶くんが初彼女と付き合うこととなりました㊗️㊗️</h3>
        <p class="msg" style="margin-top:.6em">
          ということでここからは注文できません、店員さんを呼びましょう！
        </p>
        <div class="center">
          <button class="cta" id="celebrateBtn">祝う</button>
        </div>
        <div class="footnote">※このページはサプライズ演出用のダミー注文サイトです。</div>
      </div>
    </div>
  </section>
</div>

<!-- トースト -->
<div class="toast" id="toast">追加しました</div>

<!-- ドリンク用ポップアップ（OKボタン付き） -->
<div class="modal" id="drinkModal" aria-hidden="true">
  <div class="box">
    <p class="title">斎藤くん今年もお疲れ様でした！</p>
    <p class="note">竹内くんが来年結婚するかも…ということですが<br>OKをクリック！！</p>
    <button class="ok" id="drinkOk">OK</button>
  </div>
</div>

<!-- 祝う後のモーダル -->
<div class="modal" id="congratsModal" aria-hidden="true">
  <div class="box">
    <p class="title">今からスマホを反対向きにして机に置き、周耶におめでとうを言ってあげてください。</p>
    <p class="note">みんなでお祝いの言葉を！</p>
    <button class="ok" id="modalOk">OK</button>
  </div>
</div>

<script>
/* ====== ダミーメニュー ====== */
const MENU = {
  tsumami: [
    {name:'枝豆', price:390, desc:'まずは定番。'},
    {name:'冷奴', price:340, desc:'さっぱり出汁醤油で。'},
    {name:'たこわさ', price:420, desc:'つんとくる旨さ。'},
    {name:'塩ダレキャベツ', price:360, desc:'止まらないやつ。'}
  ],
  yakimono: [
    {name:'ねぎま（2本）', price:320, desc:'塩 or タレ'},
    {name:'つくね（2本）', price:380, desc:'月見 +¥60'},
    {name:'ししとう', price:300, desc:'香ばしく。'},
    {name:'サバ炙り', price:560, desc:'脂乗ってます。'}
  ],
  agemono: [
    {name:'唐揚げ', price:590, desc:'外カリ中ジューシー。'},
    {name:'ポテト', price:450, desc:'2種ソース。'},
    {name:'なんこつ揚げ', price:520, desc:'コリコリ食感。'},
    {name:'カマンベールフライ', price:530, desc:'蜂蜜添え。'}
  ],
  gohan: [
    {name:'焼きおにぎり', price:420, desc:'香ばしい醤油。'},
    {name:'〆の出汁茶漬け', price:480, desc:'鮭 or 梅。'},
    {name:'ソース焼きそば', price:620, desc:'鉄板仕上げ。'}
  ],
  drink: [
    {name:'生ビール', price:580, desc:'キンキンに冷えてます。'},
    {name:'ハイボール', price:520, desc:'強炭酸。'},
    {name:'レモンサワー', price:500, desc:'果汁たっぷり。'},
    {name:'烏龍茶', price:300, desc:'ノンアルもどうぞ。'}
  ]
};
function yen(n){ return '¥' + n.toLocaleString('ja-JP'); }

/* ====== メニュー描画 ====== */
function renderSection(id, items){
  const root = document.getElementById('g-'+id);
  root.innerHTML = items.map((it,i)=>`
    <div class="card">
      <div class="thumb">No.${i+1}</div>
      <div class="body">
        <div class="name">${it.name}</div>
        <div class="desc">${it.desc}</div>
        <div class="priceRow">
          <div class="price">${yen(it.price)}</div>
          <button class="add" data-name="${it.name}" data-price="${it.price}">追加</button>
        </div>
      </div>
    </div>
  `).join('');
}
renderSection('tsumami', MENU.tsumami);
renderSection('yakimono', MENU.yakimono);
renderSection('agemono', MENU.agemono);
renderSection('gohan', MENU.gohan);
renderSection('drink', MENU.drink);

/* ====== フェイクカート ====== */
let count = 0;
const pill = document.getElementById('cartPill');
const toast = document.getElementById('toast');
function showToast(text){
  toast.textContent = text;
  toast.classList.add('show');
  setTimeout(()=>toast.classList.remove('show'), 1200);
}
document.body.addEventListener('click', e=>{
  const btn=e.target.closest('.add'); if(!btn || btn.disabled) return;
  count++; pill.textContent = `選択 ${count} 品`;
  showToast('追加しました');
});

/* ====== ドリンク押下でポップアップ ====== */
const drinkModal = document.getElementById('drinkModal');
function openDrink(){ drinkModal.classList.add('show'); drinkModal.setAttribute('aria-hidden','false'); }
function closeDrink(){ drinkModal.classList.remove('show'); drinkModal.setAttribute('aria-hidden','true'); }
document.getElementById('navDrink').addEventListener('click', ()=>{
  openDrink();
});
document.getElementById('drinkOk').addEventListener('click', closeDrink);
drinkModal.addEventListener('click', (e)=>{ if(e.target===drinkModal) closeDrink(); });

/* ====== ドッキリ：スクロールで発火 ====== */
const box = document.getElementById('revealBox');
const confettiRoot = document.getElementById('confetti');
const io = new IntersectionObserver(entries=>{
  entries.forEach(en=>{
    if(en.isIntersecting){
      box.classList.add('active');     // コンテンツ表示
      launchConfetti(110);             // 紙吹雪
      disableOrdering();               // 以降は注文停止
      io.disconnect();
    }
  });
},{threshold:0.45});
io.observe(box);

/* 注文停止：ボタン無効化＋ピル文言を「カート」 */
function disableOrdering(){
  document.querySelectorAll('.add').forEach(b=> b.setAttribute('disabled',''));
  pill.textContent = 'カート';
  showToast('本日は注文できません（ドッキリでした）');
}

/* 紙吹雪生成 */
function launchConfetti(count=120){
  const colors=['#e6b85c','#f39c6b','#9fc490','#7aa5d8','#b28fd3','#f1c27d','#f08d6e'];
  for(let i=0;i<count;i++){
    const el=document.createElement('i');
    const size = 6 + Math.random()*6;
    el.style.width = size+'px';
    el.style.height= (size*1.6)+'px';
    el.style.left  = (Math.random()*100)+'%';
    el.style.animationDuration = (5+Math.random()*3)+'s';
    el.style.animationDelay = (Math.random()*0.8)+'s';
    el.style.background = colors[Math.floor(Math.random()*colors.length)];
    confettiRoot.appendChild(el);
    setTimeout(()=> el.remove(), 9000);
  }
}

/* ====== 祝うボタン：紙吹雪→モーダル ====== */
document.getElementById('celebrateBtn').addEventListener('click', ()=>{
  launchConfetti(200);
  openCongrats();
});

/* 祝う後のモーダル制御 */
const modal = document.getElementById('congratsModal');
function openCongrats(){ modal.classList.add('show'); modal.setAttribute('aria-hidden','false'); }
function closeCongrats(){ modal.classList.remove('show'); modal.setAttribute('aria-hidden','true'); }
document.getElementById('modalOk').addEventListener('click', closeCongrats);
modal.addEventListener('click', (e)=>{ if(e.target===modal) closeCongrats(); });
</script>
</body>
</html>
